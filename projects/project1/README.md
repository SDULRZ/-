### SM4的实现和优化以及SM4-GCM相关实现

1. SM4的实现和优化

在SM4.c代码中，我在基础的实现中加入了T-table优化，并比较了两种实现方式的效率。

T-table优化的核心是将轮函数中的非线性变换(S盒)和线性变换(L)合并预计算，通过查表代替实时计算，从而减少加密过程中的计算量。

对T-table优化进行理论效率分析：在计算方面，将S盒查找和线性变换L的16次位运算($4×4$)简化为4次查表和3次异或，并且消除所有循环移位操作；在局部性方面，T-table尺寸小($4×256×4B=4KB$)可完全放入CPU缓存，比访问分散的S盒和计算L变换有更好的缓存命中率。

运行代码得到结果：
```
SM4 Performance Test (1M blocks):
Basic:    58.24 MB/s
T-Table:  312.67 MB/s (5.4x speedup)
```

可以看到效率提升明显。

2. SM4-GCM相关实现
   
GCM的实现过程为：生成哈希子密钥$H=SM4\(0\)$，初始化计数器$J_0$，GHASH处理附加认证数据(AAD)，CTR模式加密，GHASH处理密文，生成认证标签。

运行GCM.c的代码，得到结果：
```
=== SM4-GCM Test ===
Encryption Speed: 218.42 MB/s
Decryption Verified
```


可以看到效率比较高。

